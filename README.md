# GF GrammarHelper

## Requirements

```
export PYTHONPATH=/path/to/my_project:$PYTHONPATH # this is required to run scripts in `example/` folder
```

## Quick Start

Check the example in `example/` folder.
- run `python food_grammar.py` to generate the grammar file `Food.gf` and `FoodEng.gf` in `FoodExample/` folder.
- run `gf` to start GF shell
- load the grammar file `FoodEng.gf` in GF shell via `import FoodExample/FoodEng.gf`, you should see the following output
```terminal
- compiling FoodExample/Foods.gf...   write file FoodExample/Foods.gfo
- compiling FoodExample/FoodEng.gf...   write file FoodExample/FoodEng.gfo
linking ... OK

Languages: FoodEng
```
- try autocomplete with this grammar file
```terminal
Foods> p "this
```
and press `Tab` key, you should see the following output
```terminal
Italian    boring     cheese     delicious  expensive  fish       fresh      very       warm       wine
```






## check Consituency Parsing grammar is correct

`( S ( SBAR-TMP ( WHADVP-1 ( WRB When ) ) ( S ( NP-SBJ ( NP ( DT the ) ( NN price ) ) ( PP ( IN of ) ( NP ( NNS plastics ) ) ) ) ( VP ( VBD took ) ( PRT ( RP off ) ) ( PP-TMP ( IN in ) ( NP ( CD 1987 ) ) ) ) ) ) ( NP-SBJ ( NNP Quantum ) ( NNP Chemical ) ( NNP Corp. ) ) ( VP ( VBD went ) ( ADVP-CLR ( RB along ) ) ( PP-PRP ( IN for ) ( NP ( DT the ) ( NN ride ) ) ) ) )
`

tokenizer into a sequence of tokens
```terminal
In [18]: print(tokenizer.tokenize(text))
['▁(', '▁S', '▁(', '▁S', 'B', 'AR', '-', 'T', 'MP', '▁(', '▁WH', 'AD', 'VP', '-', '1', '▁(', '▁W', 'R', 'B', '▁When', '▁)', '▁)', '▁(', '▁S', '▁(', '▁N', 'P', '-', 'SB', 'J', '▁(', '▁N', 'P', '▁(', '▁D', 'T', '▁the', '▁)', '▁(', '▁N', 'N', '▁price', '▁)', '▁)', '▁(', '▁P', 'P', '▁(', '▁IN', '▁of', '▁)', '▁(', '▁N', 'P', '▁(', '▁N', 'NS', '▁pl', 'ast', 'ics', '▁)', '▁)', '▁)', '▁)', '▁(', '▁V', 'P', '▁(', '▁VB', 'D', '▁took', '▁)', '▁(', '▁PR', 'T', '▁(', '▁R', 'P', '▁off', '▁)', '▁)', '▁(', '▁P', 'P', '-', 'T', 'MP', '▁(', '▁IN', '▁in', '▁)', '▁(', '▁N', 'P', '▁(', '▁CD', '▁', '1', '9', '8', '7', '▁)', '▁)', '▁)', '▁)', '▁)', '▁)', '▁(', '▁N', 'P', '-', 'SB', 'J', '▁(', '▁N', 'NP', '▁Quant', 'um', '▁)', '▁(', '▁N', 'NP', '▁Chem', 'ical', '▁)', '▁(', '▁N', 'NP', '▁Cor', 'p', '.', '▁)', '▁)', '▁(', '▁V', 'P', '▁(', '▁VB', 'D', '▁went', '▁)', '▁(', '▁AD', 'VP', '-', 'CL', 'R', '▁(', '▁R', 'B', '▁along', '▁)', '▁)', '▁(', '▁P', 'P', '-', 'PR', 'P', '▁(', '▁IN', '▁for', '▁)', '▁(', '▁N', 'P', '▁(', '▁D', 'T', '▁the', '▁)', '▁(', '▁N', 'N', '▁ride', '▁)', '▁)', '▁)', '▁)', '▁)']

```

Load and parse the sequence of tokens
```terminal
gf
> import CP_OTF_llama_0_literal_Crt.gf
CP_OTF_llama_0_literal> parse "▁( ▁S ▁( ▁S B AR - T MP ▁( ▁WH AD VP - 1 ▁( ▁W R B ▁When ▁) ▁) ▁( ▁S ▁( ▁N P - SB J ▁( ▁N P ▁( ▁D T ▁the ▁) ▁( ▁N N ▁price ▁) ▁) ▁( ▁P P ▁( ▁IN ▁of ▁) ▁( ▁N P ▁( ▁N NS ▁pl ast ics ▁) ▁) ▁) ▁) ▁( ▁V P ▁( ▁VB D ▁took ▁) ▁( ▁PR T ▁( ▁R P ▁off ▁) ▁) ▁( ▁P P - T MP ▁( ▁IN ▁in ▁) ▁( ▁N P ▁( ▁CD ▁ 1 9 8 7 ▁) ▁) ▁) ▁) ▁) ▁) ▁( ▁N P - SB J ▁( ▁N NP ▁Quant um ▁) ▁( ▁N NP ▁Chem ical ▁) ▁( ▁N NP ▁Cor p . ▁) ▁) ▁( ▁V P ▁( ▁VB D ▁went ▁) ▁( ▁AD VP - CL R ▁( ▁R B ▁along ▁) ▁) ▁( ▁P P - PR P ▁( ▁IN ▁for ▁) ▁( ▁N P ▁( ▁D T ▁the ▁) ▁( ▁N N ▁ride ▁) ▁) ▁) ▁) ▁)"
Derive_StartTree Materialize_Left Materialize_SentenceTag (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_SBAR (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_WHADVP Empty_HyphenFunctionTags Derive_HyphenNumTag_1) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_WRB Derive_InputSubstring_0_1 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_S Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_1_2 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_2_3 Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_3_4 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNS Derive_InputSubstring_4_7 Materialize_Right) Materialize_Right)) Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_7_8 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PRT Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RP Derive_InputSubstring_8_9 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_9_10 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_CD Derive_InputSubstring_10_15 Materialize_Right) Materialize_Right)) Materialize_Right))) Materialize_Right)) Materialize_Right)) Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_15_17 Materialize_Right) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_17_19 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_19_22 Materialize_Right))) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_22_23 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_ADVP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_CLR Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RB Derive_InputSubstring_23_24 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_PRP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_24_25 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_1_2 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_26_27 Materialize_Right)) Materialize_Right)) Materialize_Right))) Materialize_Right))) Materialize_Right
Derive_StartTree Materialize_Left Materialize_SentenceTag (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_SBAR (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_WHADVP Empty_HyphenFunctionTags Derive_HyphenNumTag_1) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_WRB Derive_InputSubstring_0_1 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_S Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_1_2 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_2_3 Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_3_4 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNS Derive_InputSubstring_4_7 Materialize_Right) Materialize_Right)) Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_7_8 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PRT Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RP Derive_InputSubstring_8_9 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_9_10 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_CD Derive_InputSubstring_10_15 Materialize_Right) Materialize_Right)) Materialize_Right))) Materialize_Right)) Materialize_Right)) Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_15_17 Materialize_Right) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_17_19 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_19_22 Materialize_Right))) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_22_23 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_ADVP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_CLR Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RB Derive_InputSubstring_23_24 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_PRP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_24_25 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_25_26 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_26_27 Materialize_Right)) Materialize_Right)) Materialize_Right))) Materialize_Right))) Materialize_Right
Derive_StartTree Materialize_Left Materialize_SentenceTag (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_SBAR (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_WHADVP Empty_HyphenFunctionTags Derive_HyphenNumTag_1) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_WRB Derive_InputSubstring_0_1 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_S Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_25_26 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_2_3 Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_3_4 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNS Derive_InputSubstring_4_7 Materialize_Right) Materialize_Right)) Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_7_8 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PRT Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RP Derive_InputSubstring_8_9 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_9_10 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_CD Derive_InputSubstring_10_15 Materialize_Right) Materialize_Right)) Materialize_Right))) Materialize_Right)) Materialize_Right)) Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_15_17 Materialize_Right) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_17_19 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_19_22 Materialize_Right))) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_22_23 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_ADVP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_CLR Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RB Derive_InputSubstring_23_24 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_PRP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_24_25 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_1_2 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_26_27 Materialize_Right)) Materialize_Right)) Materialize_Right))) Materialize_Right))) Materialize_Right
Derive_StartTree Materialize_Left Materialize_SentenceTag (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_SBAR (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_WHADVP Empty_HyphenFunctionTags Derive_HyphenNumTag_1) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_WRB Derive_InputSubstring_0_1 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_S Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_25_26 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_2_3 Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_3_4 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNS Derive_InputSubstring_4_7 Materialize_Right) Materialize_Right)) Materialize_Right)) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_7_8 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PRT Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RP Derive_InputSubstring_8_9 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_TMP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_9_10 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_CD Derive_InputSubstring_10_15 Materialize_Right) Materialize_Right)) Materialize_Right))) Materialize_Right)) Materialize_Right)) Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_SBJ Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_15_17 Materialize_Right) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_17_19 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NNP Derive_InputSubstring_19_22 Materialize_Right))) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_VP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_VBD Derive_InputSubstring_22_23 Materialize_Right) (Repeat (Derive_Tree Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_ADVP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_CLR Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_RB Derive_InputSubstring_23_24 Materialize_Right) Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_PP (Derive_HyphenFunctionTags Derive_HyphenFunctionTag_PRP Empty_HyphenFunctionTags) Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_IN Derive_InputSubstring_24_25 Materialize_Right) (Derive_Trees Materialize_Left (Derive_FullPhraseLevelTag Derive_PhraseLevelTag_NP Empty_HyphenFunctionTags Empty_HyphenNumTag) (Repeat (Degenerate_Tree Materialize_Left Derive_WordLevelTag_DT Derive_InputSubstring_25_26 Materialize_Right) (Degenerate_Trees Materialize_Left Derive_WordLevelTag_NN Derive_InputSubstring_26_27 Materialize_Right)) Materialize_Right)) Materialize_Right))) Materialize_Right))) Materialize_Right
```


```terminal
CP_OTF_llama_0_literal> gr -depth=22  | l
▁( ▁S ▁( ▁J J R 1 9 8 ▁) ▁( ▁J JS ▁went ▁along ▁for ▁the ▁ride ▁) ▁( ▁PR P $ ast ics ▁took ▁off ▁in ▁ 1 9 8 7 ▁Quant um ▁Chem ical ▁Cor p . ▁went ▁) ▁)
```


## Commands

### Compile Grammar

- compile grammar `python -m src.grammar.compile --grammar_path data/grammars/GenieWiki.gf --output_path data/grammars/GenieWiki.pgf`

### Benchmark

#### Time Complexity
- run time complexity benchmark `python -m src.benchmark.time_complexity --num_repeat 5 --max_seq_len 128 --pgf FullyExpandedGenieWiki`
- plot benchmark result `python -m src.benchmark.visualization`

#### Space Complexity

- It takes 28.9G memory to run the constrained decoding on REBEL dataset
- It takes 9.8G memory to run the constrained decoding on WIKI-NRE dataset

